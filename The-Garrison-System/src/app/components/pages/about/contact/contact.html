<section class="stack-lg">
  <header class="header glass-dark">
    <h2>Contáctanos</h2>
    <div class="right muted">Inicio / Contáctanos</div>
  </header>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate class="card stack-md">
    <div class="fields-grid">
      <label class="label">
        Nombre
        <input class="input" type="text" formControlName="name" placeholder="Tu nombre" />
        <span class="muted error" *ngIf="form.controls.name.touched && form.controls.name.invalid">
          Nombre requerido (mín 2).
        </span>
      </label>

      <label class="label">
        Email
        <input class="input" type="email" formControlName="email" placeholder="tu@email.com" />
        <span class="muted error" *ngIf="form.controls.email.touched && form.controls.email.invalid">
          Email válido requerido.
        </span>
      </label>

      <label class="label grid-span-2">
        Asunto
        <input class="input" type="text" formControlName="subject" placeholder="Breve asunto" />
        <span class="muted error" *ngIf="form.controls.subject.touched && form.controls.subject.invalid">
          Asunto requerido (máx 120).
        </span>
      </label>

      <label class="label grid-span-2">
        Mensaje
        <textarea class="input" rows="6" formControlName="message" placeholder="Contanos tu consulta"></textarea>
        <span class="muted error" *ngIf="form.controls.message.touched && form.controls.message.invalid">
          Mensaje requerido (mín 10).
        </span>
      </label>
    </div>

    <label class="agree">
      <input type="checkbox" formControlName="agree" />
      <span class="muted">Acepto el tratamiento de mis datos según la política de privacidad.</span>
    </label>

    <div class="actions">
      <button class="btn" type="submit" [disabled]="loading">{{ loading ? 'Enviando…' : 'Enviar' }}</button>
      <button class="btn ghost" type="button" (click)="form.reset({agree:false})">Limpiar</button>
    </div>

    <div class="error" *ngIf="errorMsg">{{ errorMsg }}</div>
    <div class="success glass-card" *ngIf="submitted && !errorMsg">Mensaje enviado. ¡Gracias por contactarnos!</div>
  </form>
</section>
