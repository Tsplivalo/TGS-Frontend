
> the-garrison-system@0.0.0 test:coverage
> ng test --no-watch --code-coverage

[33m‚ùØ[39m Building...
[32m‚úî[39m Building...
[1mInitial chunk files[22m                [2m | [22m[1mNames[22m                           [2m | [22m [1mRaw size[22m
[32mchunk-G7ZLQZEB.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m  [36m2.28 MB[39m[2m | [22m
[32mpolyfills.js[39m                       [2m | [22m[2mpolyfills[22m                       [2m | [22m  [36m1.03 MB[39m[2m | [22m
[32mchunk-ECS5TD7B.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m[36m421.26 kB[39m[2m | [22m
[32mspec-app.spec.js[39m                   [2m | [22m[2mspec-app.spec[22m                   [2m | [22m[36m248.09 kB[39m[2m | [22m
[32mchunk-GTPKRXYG.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m[36m240.10 kB[39m[2m | [22m
[32mchunk-6KA5OKYR.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m [36m96.28 kB[39m[2m | [22m
[32mspec-distributor.spec.js[39m           [2m | [22m[2mspec-distributor.spec[22m           [2m | [22m [36m78.86 kB[39m[2m | [22m
[32mjasmine-cleanup-1.js[39m               [2m | [22m[2mjasmine-cleanup-1[22m               [2m | [22m [36m67.20 kB[39m[2m | [22m
[32mchunk-QHUOWW4D.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m [36m57.93 kB[39m[2m | [22m
[32mspec-auth.guard.spec.js[39m            [2m | [22m[2mspec-auth.guard.spec[22m            [2m | [22m [36m53.51 kB[39m[2m | [22m
[32mspec-bribe.spec.js[39m                 [2m | [22m[2mspec-bribe.spec[22m                 [2m | [22m [36m49.96 kB[39m[2m | [22m
[32mspec-email.verification.spec.js[39m    [2m | [22m[2mspec-email.verification.spec[22m    [2m | [22m [36m47.04 kB[39m[2m | [22m
[32mspec-role-request.spec.js[39m          [2m | [22m[2mspec-role-request.spec[22m          [2m | [22m [36m41.34 kB[39m[2m | [22m
[32mspec-stats.spec.js[39m                 [2m | [22m[2mspec-stats.spec[22m                 [2m | [22m [36m40.98 kB[39m[2m | [22m
[32mspec-client.spec.js[39m                [2m | [22m[2mspec-client.spec[22m                [2m | [22m [36m36.97 kB[39m[2m | [22m
[32mspec-sale.spec.js[39m                  [2m | [22m[2mspec-sale.spec[22m                  [2m | [22m [36m32.32 kB[39m[2m | [22m
[32mspec-admin.spec.js[39m                 [2m | [22m[2mspec-admin.spec[22m                 [2m | [22m [36m28.78 kB[39m[2m | [22m
[32mchunk-3BRPTJSL.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m [36m26.40 kB[39m[2m | [22m
[32mtest_main.js[39m                       [2m | [22m[2mtest_main[22m                       [2m | [22m [36m21.86 kB[39m[2m | [22m
[32mchunk-AE4GNXIY.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m [36m19.74 kB[39m[2m | [22m
[32mspec-authority.spec.js[39m             [2m | [22m[2mspec-authority.spec[22m             [2m | [22m [36m14.76 kB[39m[2m | [22m
[32mspec-store-flow.integration.spec.js[39m[2m | [22m[2mspec-store-flow.integration.spec[22m[2m | [22m [36m14.35 kB[39m[2m | [22m
[32mspec-auth.spec.js[39m                  [2m | [22m[2mspec-auth.spec[22m                  [2m | [22m [36m13.86 kB[39m[2m | [22m
[32mchunk-AS5IAPD5.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m [36m12.24 kB[39m[2m | [22m
[32mspec-cart.spec.js[39m                  [2m | [22m[2mspec-cart.spec[22m                  [2m | [22m [36m10.14 kB[39m[2m | [22m
[32mspec-i18n.spec.js[39m                  [2m | [22m[2mspec-i18n.spec[22m                  [2m | [22m  [36m7.49 kB[39m[2m | [22m
[32mstyles.css[39m                         [2m | [22m[2mstyles[22m                          [2m | [22m  [36m7.31 kB[39m[2m | [22m
[32mchunk-TH6YIGM5.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m  [36m6.88 kB[39m[2m | [22m
[32mchunk-TTULUY32.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m  [36m1.99 kB[39m[2m | [22m
[32mchunk-UUAFQBOC.js[39m                  [2m | [22m[2m-[22m                               [2m | [22m[36m936 bytes[39m[2m | [22m
[32mspec-product.spec.js[39m               [2m | [22m[2mspec-product.spec[22m               [2m | [22m[36m755 bytes[39m[2m | [22m
[32mjasmine-cleanup-0.js[39m               [2m | [22m[2mjasmine-cleanup-0[22m               [2m | [22m[36m519 bytes[39m[2m | [22m

[1m [22m                                  [2m | [22m[1mInitial total[22m                   [2m | [22m  [1m5.02 MB[22m

Application bundle generation complete. [81.308 seconds] - 2025-11-12T21:56:32.175Z

[1m[33m[33m‚ñ≤ [43;33m[[43;30mWARNING[43;33m][0m [1mDeprecation[0m [1m[35m[plugin angular-sass][0m

    src/styles.scss:409:16:
[37m      409 ‚îÇ     background: [32m[37mlighten($scrollbar-thumb-hover, 10%);
          ‚ïµ                 [32m^[0m


  Global built-in functions are deprecated and will be removed in Dart Sass 3.0.0.
  Use color.adjust instead.
  
  More info and automated migrator: [4mhttps://sass-lang.com/d/import[0m

  The plugin "angular-sass" was triggered by this import

    angular:styles/global:styles:1:8:
[37m      1 ‚îÇ @import [32m'src/styles.scss'[37m;
        ‚ïµ         [32m~~~~~~~~~~~~~~~~~[0m


[33m‚ñ≤ [43;33m[[43;30mWARNING[43;33m][0m [1mDeprecation[0m [1m[35m[plugin angular-sass][0m

    src/styles.scss:409:16:
[37m      409 ‚îÇ     background: [32m[37mlighten($scrollbar-thumb-hover, 10%);
          ‚ïµ                 [32m^[0m


  lighten() is deprecated. Suggestions:
  
  color.scale($color, $lightness: 32.9032258065%)
  color.adjust($color, $lightness: 10%)
  
  More info: [4mhttps://sass-lang.com/d/color-functions[0m

  The plugin "angular-sass" was triggered by this import

    angular:styles/global:styles:1:8:
[37m      1 ‚îÇ @import [32m'src/styles.scss'[37m;
        ‚ïµ         [32m~~~~~~~~~~~~~~~~~[0m

[39m[22m
[32m12 11 2025 18:56:37.316:INFO [karma-server]: [39mKarma v6.4.4 server started at http://localhost:9876/
[32m12 11 2025 18:56:37.326:INFO [launcher]: [39mLaunching browsers Chrome with concurrency unlimited
[32m12 11 2025 18:56:37.585:INFO [launcher]: [39mStarting browser Chrome
[32m12 11 2025 18:56:50.658:INFO [Chrome 142.0.0.0 (Windows 10)]: [39mConnected on socket AgljWW6hFTa_2SZUAAAB with id 9747477
Chrome 142.0.0.0 (Windows 10): Executed 0 of 373[32m SUCCESS[39m (0 secs / 0 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 1 of 373[32m SUCCESS[39m (0 secs / 0.145 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 2 of 373[32m SUCCESS[39m (0 secs / 0.188 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 3 of 373[32m SUCCESS[39m (0 secs / 0.264 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 4 of 373[32m SUCCESS[39m (0 secs / 0.304 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 5 of 373[32m SUCCESS[39m (0 secs / 0.357 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 6 of 373[32m SUCCESS[39m (0 secs / 0.394 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 7 of 373[32m SUCCESS[39m (0 secs / 0.422 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 8 of 373[32m SUCCESS[39m (0 secs / 0.44 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 9 of 373[32m SUCCESS[39m (0 secs / 0.454 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 10 of 373[32m SUCCESS[39m (0 secs / 0.467 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 11 of 373[32m SUCCESS[39m (0 secs / 0.478 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 12 of 373[32m SUCCESS[39m (0 secs / 0.491 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 13 of 373[32m SUCCESS[39m (0 secs / 0.504 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 14 of 373[32m SUCCESS[39m (0 secs / 0.514 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 15 of 373[32m SUCCESS[39m (0 secs / 0.537 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 16 of 373[32m SUCCESS[39m (0 secs / 0.55 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 17 of 373[32m SUCCESS[39m (0 secs / 0.595 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 18 of 373[32m SUCCESS[39m (0 secs / 0.635 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 19 of 373[32m SUCCESS[39m (0 secs / 0.644 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 20 of 373[32m SUCCESS[39m (0 secs / 0.654 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 21 of 373[32m SUCCESS[39m (0 secs / 0.666 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 22 of 373[32m SUCCESS[39m (0 secs / 0.681 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 23 of 373[32m SUCCESS[39m (0 secs / 0.697 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 24 of 373[32m SUCCESS[39m (0 secs / 0.709 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 25 of 373[32m SUCCESS[39m (0 secs / 0.72 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 26 of 373[32m SUCCESS[39m (0 secs / 0.732 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 27 of 373[32m SUCCESS[39m (0 secs / 0.746 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 28 of 373[32m SUCCESS[39m (0 secs / 0.762 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 29 of 373[32m SUCCESS[39m (0 secs / 0.776 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 30 of 373[32m SUCCESS[39m (0 secs / 0.789 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 31 of 373[32m SUCCESS[39m (0 secs / 0.803 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 32 of 373[32m SUCCESS[39m (0 secs / 0.818 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 33 of 373[32m SUCCESS[39m (0 secs / 0.831 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 34 of 373[32m SUCCESS[39m (0 secs / 0.841 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 35 of 373[32m SUCCESS[39m (0 secs / 0.853 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 36 of 373[32m SUCCESS[39m (0 secs / 0.862 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 37 of 373[32m SUCCESS[39m (0 secs / 0.923 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 38 of 373[32m SUCCESS[39m (0 secs / 0.936 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 39 of 373[32m SUCCESS[39m (0 secs / 0.945 secs)
[1A[2KWARN: [36m'Spec 'BribeService searchBribes() should search with multiple criteria combined' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 39 of 373[32m SUCCESS[39m (0 secs / 0.945 secs)
WARN: 'Spec 'BribeService searchBribes() should search with multiple criteria combined' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 40 of 373[32m SUCCESS[39m (0 secs / 0.958 secs)
[1A[2KWARN: [36m'Spec 'BribeService searchBribes() should search bribes before a date' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 40 of 373[32m SUCCESS[39m (0 secs / 0.958 secs)
WARN: 'Spec 'BribeService searchBribes() should search bribes before a date' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 41 of 373[32m SUCCESS[39m (0 secs / 0.967 secs)
[1A[2KWARN: [36m'Spec 'BribeService searchBribes() should search bribes after a date' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 41 of 373[32m SUCCESS[39m (0 secs / 0.967 secs)
WARN: 'Spec 'BribeService searchBribes() should search bribes after a date' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 42 of 373[32m SUCCESS[39m (0 secs / 0.977 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 43 of 373[32m SUCCESS[39m (0 secs / 0.992 secs)
[1A[2KWARN: [36m'Spec 'BribeService searchBribes() should search bribes by exact date' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 43 of 373[32m SUCCESS[39m (0 secs / 0.992 secs)
WARN: 'Spec 'BribeService searchBribes() should search bribes by exact date' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 44 of 373[32m SUCCESS[39m (0 secs / 1.002 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 45 of 373[32m SUCCESS[39m (0 secs / 1.011 secs)
[1A[2KWARN: [36m'Spec 'BribeService searchBribes() should search bribes between two dates' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 45 of 373[32m SUCCESS[39m (0 secs / 1.011 secs)
WARN: 'Spec 'BribeService searchBribes() should search bribes between two dates' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 46 of 373[32m SUCCESS[39m (0 secs / 1.02 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 47 of 373[32m SUCCESS[39m (0 secs / 1.029 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 48 of 373[32m SUCCESS[39m (0 secs / 1.04 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 49 of 373[32m SUCCESS[39m (0 secs / 1.047 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 50 of 373[32m SUCCESS[39m (0 secs / 1.057 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 51 of 373[32m SUCCESS[39m (0 secs / 1.066 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 52 of 373[32m SUCCESS[39m (0 secs / 1.079 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 53 of 373[32m SUCCESS[39m (0 secs / 1.089 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 54 of 373[32m SUCCESS[39m (0 secs / 1.097 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 55 of 373[32m SUCCESS[39m (0 secs / 1.109 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 56 of 373[32m SUCCESS[39m (0 secs / 1.128 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 57 of 373[32m SUCCESS[39m (0 secs / 1.136 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 58 of 373[32m SUCCESS[39m (0 secs / 1.147 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 59 of 373[32m SUCCESS[39m (0 secs / 1.155 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 60 of 373[32m SUCCESS[39m (0 secs / 1.163 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 61 of 373[32m SUCCESS[39m (0 secs / 1.17 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 62 of 373[32m SUCCESS[39m (0 secs / 1.18 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 63 of 373[32m SUCCESS[39m (0 secs / 1.187 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 64 of 373[32m SUCCESS[39m (0 secs / 1.201 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 65 of 373[32m SUCCESS[39m (0 secs / 1.211 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 66 of 373[32m SUCCESS[39m (0 secs / 1.219 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 67 of 373[32m SUCCESS[39m (0 secs / 1.228 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 68 of 373[32m SUCCESS[39m (0 secs / 1.245 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 69 of 373[32m SUCCESS[39m (0 secs / 1.256 secs)
[1A[2KWARN: [36m'Spec 'BribeService Edge Cases should handle very large pagination values' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 69 of 373[32m SUCCESS[39m (0 secs / 1.256 secs)
WARN: 'Spec 'BribeService Edge Cases should handle very large pagination values' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 70 of 373[32m SUCCESS[39m (0 secs / 1.271 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 71 of 373[32m SUCCESS[39m (0 secs / 1.278 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 72 of 373[32m SUCCESS[39m (0 secs / 1.289 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 73 of 373[32m SUCCESS[39m (0 secs / 1.3 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 73 of 373[32m SUCCESS[39m (0 secs / 1.3 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 74 of 373[32m SUCCESS[39m (0 secs / 1.323 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 74 of 373[32m SUCCESS[39m (0 secs / 1.323 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 75 of 373[32m SUCCESS[39m (0 secs / 1.335 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 75 of 373[32m SUCCESS[39m (0 secs / 1.335 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 76 of 373[32m SUCCESS[39m (0 secs / 1.355 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 76 of 373[32m SUCCESS[39m (0 secs / 1.355 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 77 of 373[32m SUCCESS[39m (0 secs / 1.362 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 77 of 373[32m SUCCESS[39m (0 secs / 1.362 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 78 of 373[32m SUCCESS[39m (0 secs / 1.376 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 78 of 373[32m SUCCESS[39m (0 secs / 1.376 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 79 of 373[32m SUCCESS[39m (0 secs / 1.393 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 79 of 373[32m SUCCESS[39m (0 secs / 1.393 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 80 of 373[32m SUCCESS[39m (0 secs / 1.41 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 81 of 373[32m SUCCESS[39m (0 secs / 1.418 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 81 of 373[32m SUCCESS[39m (0 secs / 1.418 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 82 of 373[32m SUCCESS[39m (0 secs / 1.428 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 82 of 373[32m SUCCESS[39m (0 secs / 1.428 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 83 of 373[32m SUCCESS[39m (0 secs / 1.438 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 83 of 373[32m SUCCESS[39m (0 secs / 1.438 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 84 of 373[32m SUCCESS[39m (0 secs / 1.449 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 84 of 373[32m SUCCESS[39m (0 secs / 1.449 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 85 of 373[32m SUCCESS[39m (0 secs / 1.458 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 85 of 373[32m SUCCESS[39m (0 secs / 1.458 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 86 of 373[32m SUCCESS[39m (0 secs / 1.471 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 86 of 373[32m SUCCESS[39m (0 secs / 1.471 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 87 of 373[32m SUCCESS[39m (0 secs / 1.484 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 87 of 373[32m SUCCESS[39m (0 secs / 1.484 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 88 of 373[32m SUCCESS[39m (0 secs / 1.494 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 88 of 373[32m SUCCESS[39m (0 secs / 1.494 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 89 of 373[32m SUCCESS[39m (0 secs / 1.517 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 89 of 373[32m SUCCESS[39m (0 secs / 1.517 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 90 of 373[32m SUCCESS[39m (0 secs / 1.533 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 90 of 373[32m SUCCESS[39m (0 secs / 1.533 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 91 of 373[32m SUCCESS[39m (0 secs / 1.549 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 91 of 373[32m SUCCESS[39m (0 secs / 1.549 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 92 of 373[32m SUCCESS[39m (0 secs / 1.565 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 92 of 373[32m SUCCESS[39m (0 secs / 1.565 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 93 of 373[32m SUCCESS[39m (0 secs / 1.591 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 93 of 373[32m SUCCESS[39m (0 secs / 1.591 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 94 of 373[32m SUCCESS[39m (0 secs / 1.62 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 94 of 373[32m SUCCESS[39m (0 secs / 1.62 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 95 of 373[32m SUCCESS[39m (0 secs / 1.629 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 95 of 373[32m SUCCESS[39m (0 secs / 1.629 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 96 of 373[32m SUCCESS[39m (0 secs / 1.641 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 96 of 373[32m SUCCESS[39m (0 secs / 1.641 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 97 of 373[32m SUCCESS[39m (0 secs / 1.652 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 97 of 373[32m SUCCESS[39m (0 secs / 1.652 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 98 of 373[32m SUCCESS[39m (0 secs / 1.662 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 98 of 373[32m SUCCESS[39m (0 secs / 1.662 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 99 of 373[32m SUCCESS[39m (0 secs / 1.678 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 99 of 373[32m SUCCESS[39m (0 secs / 1.678 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 100 of 373[32m SUCCESS[39m (0 secs / 1.692 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 100 of 373[32m SUCCESS[39m (0 secs / 1.692 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 101 of 373[32m SUCCESS[39m (0 secs / 1.706 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 101 of 373[32m SUCCESS[39m (0 secs / 1.706 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 102 of 373[32m SUCCESS[39m (0 secs / 1.719 secs)
[1A[2KLOG: [36m'üìä Using MOCK stats data'[39m
Chrome 142.0.0.0 (Windows 10): Executed 102 of 373[32m SUCCESS[39m (0 secs / 1.719 secs)
LOG: 'üìä Using MOCK stats data'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 103 of 373[32m SUCCESS[39m (0 secs / 1.737 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 104 of 373[32m SUCCESS[39m (0 secs / 1.764 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 105 of 373[32m SUCCESS[39m (0 secs / 1.777 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 106 of 373[32m SUCCESS[39m (0 secs / 1.798 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 107 of 373[32m SUCCESS[39m (0 secs / 1.809 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 108 of 373[32m SUCCESS[39m (0 secs / 1.821 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 109 of 373[32m SUCCESS[39m (0 secs / 1.836 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 110 of 373[32m SUCCESS[39m (0 secs / 1.876 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 111 of 373[32m SUCCESS[39m (0 secs / 1.906 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 112 of 373[32m SUCCESS[39m (0 secs / 1.923 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 113 of 373[32m SUCCESS[39m (0 secs / 1.939 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 114 of 373[32m SUCCESS[39m (0 secs / 1.972 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 115 of 373[32m SUCCESS[39m (0 secs / 1.986 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 116 of 373[32m SUCCESS[39m (0 secs / 1.998 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 117 of 373[32m SUCCESS[39m (0 secs / 2.014 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 118 of 373[32m SUCCESS[39m (0 secs / 2.022 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 119 of 373[32m SUCCESS[39m (0 secs / 2.046 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 120 of 373[32m SUCCESS[39m (0 secs / 2.056 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 121 of 373[32m SUCCESS[39m (0 secs / 2.07 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 122 of 373[32m SUCCESS[39m (0 secs / 2.101 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 123 of 373[32m SUCCESS[39m (0 secs / 2.113 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 124 of 373[32m SUCCESS[39m (0 secs / 2.133 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 125 of 373[32m SUCCESS[39m (0 secs / 2.147 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 126 of 373[32m SUCCESS[39m (0 secs / 2.158 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 127 of 373[32m SUCCESS[39m (0 secs / 2.175 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 128 of 373[32m SUCCESS[39m (0 secs / 2.189 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 129 of 373[32m SUCCESS[39m (0 secs / 2.201 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 130 of 373[32m SUCCESS[39m (0 secs / 2.214 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 131 of 373[32m SUCCESS[39m (0 secs / 2.232 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 132 of 373[32m SUCCESS[39m (0 secs / 2.242 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 133 of 373[32m SUCCESS[39m (0 secs / 2.253 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 134 of 373[32m SUCCESS[39m (0 secs / 2.263 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 135 of 373[32m SUCCESS[39m (0 secs / 2.271 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 136 of 373[32m SUCCESS[39m (0 secs / 2.28 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 137 of 373[32m SUCCESS[39m (0 secs / 2.293 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 138 of 373[32m SUCCESS[39m (0 secs / 2.303 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 139 of 373[32m SUCCESS[39m (0 secs / 2.313 secs)
[1A[2KWARN: [36m'Spec 'AdminService search() should search by email' has no expectations.'[39m
Chrome 142.0.0.0 (Windows 10): Executed 139 of 373[32m SUCCESS[39m (0 secs / 2.313 secs)
WARN: 'Spec 'AdminService search() should search by email' has no expectations.'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 140 of 373[32m SUCCESS[39m (0 secs / 2.326 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 141 of 373[32m SUCCESS[39m (0 secs / 2.336 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 142 of 373[32m SUCCESS[39m (0 secs / 2.348 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 143 of 373[32m SUCCESS[39m (0 secs / 2.356 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 144 of 373[32m SUCCESS[39m (0 secs / 2.365 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 145 of 373[32m SUCCESS[39m (0 secs / 2.381 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 146 of 373[32m SUCCESS[39m (0 secs / 2.437 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 147 of 373[32m SUCCESS[39m (0 secs / 2.451 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 148 of 373[32m SUCCESS[39m (0 secs / 2.459 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 149 of 373[32m SUCCESS[39m (0 secs / 2.483 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 150 of 373[32m SUCCESS[39m (0 secs / 2.498 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 151 of 373[32m SUCCESS[39m (0 secs / 2.507 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 152 of 373[32m SUCCESS[39m (0 secs / 2.518 secs)
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AdminService Edge Cases should handle empty search query FAILED[39m
	Error: Expected one matching request for criteria "Match by function: ", found none. Requests received are: GET /api/admin/search.
	    at _HttpClientTestingBackend.expectOne (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:112:13)
	    at UserContext.<anonymous> (src/app/services/admin/admin.spec.ts:618:28)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
	Error: Expected no open requests, found 1: GET /api/admin/search
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/admin/admin.spec.ts:35:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 153 of 373[31m (1 FAILED)[39m (0 secs / 2.989 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 154 of 373[31m (1 FAILED)[39m (0 secs / 3.019 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 155 of 373[31m (1 FAILED)[39m (0 secs / 3.025 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 156 of 373[31m (1 FAILED)[39m (0 secs / 3.031 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 157 of 373[31m (1 FAILED)[39m (0 secs / 3.041 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 158 of 373[31m (1 FAILED)[39m (0 secs / 3.048 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 159 of 373[31m (1 FAILED)[39m (0 secs / 3.057 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 160 of 373[31m (1 FAILED)[39m (0 secs / 3.064 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 161 of 373[31m (1 FAILED)[39m (0 secs / 3.073 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 162 of 373[31m (1 FAILED)[39m (0 secs / 3.08 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 163 of 373[31m (1 FAILED)[39m (0 secs / 3.089 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 164 of 373[31m (1 FAILED)[39m (0 secs / 3.098 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 165 of 373[31m (1 FAILED)[39m (0 secs / 3.104 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 166 of 373[31m (1 FAILED)[39m (0 secs / 3.112 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 167 of 373[31m (1 FAILED)[39m (0 secs / 3.12 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 168 of 373[31m (1 FAILED)[39m (0 secs / 3.129 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 169 of 373[31m (1 FAILED)[39m (0 secs / 3.136 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 170 of 373[31m (1 FAILED)[39m (0 secs / 3.153 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 171 of 373[31m (1 FAILED)[39m (0 secs / 3.173 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 172 of 373[31m (1 FAILED)[39m (0 secs / 3.185 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 173 of 373[31m (1 FAILED)[39m (0 secs / 3.197 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 174 of 373[31m (1 FAILED)[39m (0 secs / 3.249 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 175 of 373[31m (1 FAILED)[39m (0 secs / 3.272 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 176 of 373[31m (1 FAILED)[39m (0 secs / 3.295 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 177 of 373[31m (1 FAILED)[39m (0 secs / 3.301 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 178 of 373[31m (1 FAILED)[39m (0 secs / 3.309 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 179 of 373[31m (1 FAILED)[39m (0 secs / 3.319 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 180 of 373[31m (1 FAILED)[39m (0 secs / 3.326 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 181 of 373[31m (1 FAILED)[39m (0 secs / 3.345 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 182 of 373[31m (1 FAILED)[39m (0 secs / 3.356 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 183 of 373[31m (1 FAILED)[39m (0 secs / 3.371 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 184 of 373[31m (1 FAILED)[39m (0 secs / 3.385 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 185 of 373[31m (1 FAILED)[39m (0 secs / 3.395 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 186 of 373[31m (1 FAILED)[39m (0 secs / 3.416 secs)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 187 of 373[31m (1 FAILED)[39m (0 secs / 3.424 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 187 of 373[31m (1 FAILED)[39m (0 secs / 3.424 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 188 of 373[31m (1 FAILED)[39m (0 secs / 3.458 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 188 of 373[31m (1 FAILED)[39m (0 secs / 3.458 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 189 of 373[31m (1 FAILED)[39m (0 secs / 3.47 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 189 of 373[31m (1 FAILED)[39m (0 secs / 3.47 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 190 of 373[31m (1 FAILED)[39m (0 secs / 3.484 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 190 of 373[31m (1 FAILED)[39m (0 secs / 3.484 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: undefined, username: undefined, roles: []}[39m
Chrome 142.0.0.0 (Windows 10): Executed 190 of 373[31m (1 FAILED)[39m (0 secs / 3.484 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: undefined, username: undefined, roles: []}
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 191 of 373[31m (1 FAILED)[39m (0 secs / 3.506 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 191 of 373[31m (1 FAILED)[39m (0 secs / 3.506 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: false, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: false, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: false, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] ‚úâÔ∏è emailVerified:', false[39m
Chrome 142.0.0.0 (Windows 10): Executed 192 of 373[31m (1 FAILED)[39m (0 secs / 3.536 secs)
LOG: '[AuthService] ‚úâÔ∏è emailVerified:', false
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Email Verification should check if email is not verified FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] ‚úâÔ∏è emailVerified:', true[39m
Chrome 142.0.0.0 (Windows 10): Executed 193 of 373[31m (2 FAILED)[39m (0 secs / 3.559 secs)
LOG: '[AuthService] ‚úâÔ∏è emailVerified:', true
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Email Verification should check if email is verified FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KERROR: [36m'[AuthService] ‚ùå HTTP Error:', Object{status: 500, statusText: 'Internal Server Error', error: Object{message: 'Internal server error'}, url: '/api/auth/login'}[39m
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
ERROR: '[AuthService] ‚ùå HTTP Error:', Object{status: 500, statusText: 'Internal Server Error', error: Object{message: 'Internal server error'}, url: '/api/auth/login'}
[1A[2KERROR: [36m'[AuthService] ‚ùå Error normalized:', Object{status: 500, code: undefined, message: 'Internal server error', error: Object{message: 'Internal server error', code: undefined}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
ERROR: '[AuthService] ‚ùå Error normalized:', Object{status: 500, code: undefined, message: 'Internal server error', error: Object{message: 'Internal server error', code: undefined}}
[1A[2KLOG: [36m'[AuthService] üë§ User cleared'[39m
Chrome 142.0.0.0 (Windows 10): Executed 194 of 373[31m (3 FAILED)[39m (0 secs / 3.574 secs)
LOG: '[AuthService] üë§ User cleared'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KERROR: [36m'[AuthService] ‚ùå HTTP Error:', Object{status: 408, statusText: 'Request Timeout', error: Object{message: 'Timeout'}, url: '/api/auth/login'}[39m
Chrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
ERROR: '[AuthService] ‚ùå HTTP Error:', Object{status: 408, statusText: 'Request Timeout', error: Object{message: 'Timeout'}, url: '/api/auth/login'}
[1A[2KERROR: [36m'[AuthService] ‚ùå Error normalized:', Object{status: 408, code: undefined, message: 'Timeout', error: Object{message: 'Timeout', code: undefined}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
ERROR: '[AuthService] ‚ùå Error normalized:', Object{status: 408, code: undefined, message: 'Timeout', error: Object{message: 'Timeout', code: undefined}}
[1A[2KLOG: [36m'[AuthService] üë§ User cleared'[39m
Chrome 142.0.0.0 (Windows 10): Executed 195 of 373[31m (3 FAILED)[39m (0 secs / 3.605 secs)
LOG: '[AuthService] üë§ User cleared'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'distributor@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üîê Login attempt for:', 'distributor@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['DISTRIBUTOR'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['DISTRIBUTOR'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['DISTRIBUTOR'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['DISTRIBUTOR'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['DISTRIBUTOR'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['DISTRIBUTOR'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['DISTRIBUTOR']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['DISTRIBUTOR']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'DISTRIBUTOR', result: true, currentRoles: ['DISTRIBUTOR']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 196 of 373[31m (3 FAILED)[39m (0 secs / 3.621 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'DISTRIBUTOR', result: true, currentRoles: ['DISTRIBUTOR']}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Role Checks should correctly identify distributor role FAILED[39m
	Error: Expected no open requests, found 2: GET /api/users/me, GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'multi@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üîê Login attempt for:', 'multi@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [..., ...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [..., ...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER', 'PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER', 'PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER', 'PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER', 'PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER', 'PARTNER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER', 'PARTNER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['USER', 'PARTNER']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['USER', 'PARTNER']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'PARTNER', result: true, currentRoles: ['USER', 'PARTNER']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'PARTNER', result: true, currentRoles: ['USER', 'PARTNER']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'ADMIN', result: false, currentRoles: ['USER', 'PARTNER']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 197 of 373[31m (4 FAILED)[39m (0 secs / 3.649 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'ADMIN', result: false, currentRoles: ['USER', 'PARTNER']}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Role Checks should handle multiple roles FAILED[39m
	Error: Expected no open requests, found 2: GET /api/users/me, GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'partner@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üîê Login attempt for:', 'partner@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['PARTNER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['PARTNER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['PARTNER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['PARTNER']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['PARTNER']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'PARTNER', result: true, currentRoles: ['PARTNER']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 198 of 373[31m (5 FAILED)[39m (0 secs / 3.676 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'PARTNER', result: true, currentRoles: ['PARTNER']}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Role Checks should correctly identify partner role FAILED[39m
	Error: Expected no open requests, found 2: GET /api/users/me, GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'authority@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üîê Login attempt for:', 'authority@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['AUTHORITY'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['AUTHORITY'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['AUTHORITY'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['AUTHORITY'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['AUTHORITY'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['AUTHORITY'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['AUTHORITY']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['AUTHORITY']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'AUTHORITY', result: true, currentRoles: ['AUTHORITY']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 199 of 373[31m (6 FAILED)[39m (0 secs / 3.693 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'AUTHORITY', result: true, currentRoles: ['AUTHORITY']}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Role Checks should correctly identify authority role FAILED[39m
	Error: Expected no open requests, found 2: GET /api/users/me, GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'admin@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üîê Login attempt for:', 'admin@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['ADMIN'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['ADMIN'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['ADMIN'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['ADMIN'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['ADMIN'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['ADMIN'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['ADMIN']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üìã Roles computed:', Object{userId: 'test-user-id', username: 'testuser', roles: ['ADMIN']}
[1A[2KLOG: [36m'[AuthService] üîç hasRole check:', Object{role: 'ADMIN', result: true, currentRoles: ['ADMIN']}[39m
Chrome 142.0.0.0 (Windows 10): Executed 200 of 373[31m (7 FAILED)[39m (0 secs / 3.713 secs)
LOG: '[AuthService] üîç hasRole check:', Object{role: 'ADMIN', result: true, currentRoles: ['ADMIN']}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Role Checks should correctly identify admin role FAILED[39m
	Error: Expected no open requests, found 2: GET /api/users/me, GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üö™ Logout - limpiando estado local inmediatamente'[39m
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
LOG: '[AuthService] üö™ Logout - limpiando estado local inmediatamente'
[1A[2KLOG: [36m'[AuthService] üóëÔ∏è Clearing user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
LOG: '[AuthService] üóëÔ∏è Clearing user'
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', null[39m
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
LOG: '[AuthService] üíæ Setting user signal:', null
[1A[2KLOG: [36m'[AuthService] üë§ User cleared'[39m
Chrome 142.0.0.0 (Windows 10): Executed 201 of 373[31m (8 FAILED)[39m (0 secs / 3.729 secs)
LOG: '[AuthService] üë§ User cleared'
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService logout() should clear localStorage on logout FAILED[39m
	Expected 'test-token' to be null.
	    at <Jasmine>
	    at Object.next (src/app/services/auth/auth.spec.ts:216:51)
	    at ConsumerObserver.next (node_modules/rxjs/src/internal/Subscriber.ts:155:25)
	    at SafeSubscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:113:22)
	    at SafeSubscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:71:12)
	Expected '{"id":"test-user-id","username":"testuser","email":"test@example.com","roles":["USER"],"isActive":true,"isVerified":true,"emailVerified":true,"profileCompleteness":75,"createdAt":"2025-11-12T21:56:58.978Z","updatedAt":"2025-11-12T21:56:58.980Z","hasPersonalInfo":false}' to be null.
	    at <Jasmine>
	    at Object.next (src/app/services/auth/auth.spec.ts:217:50)
	    at ConsumerObserver.next (node_modules/rxjs/src/internal/Subscriber.ts:155:25)
	    at SafeSubscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:113:22)
	    at SafeSubscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:71:12)
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üö™ Logout - limpiando estado local inmediatamente'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üö™ Logout - limpiando estado local inmediatamente'
[1A[2KLOG: [36m'[AuthService] ‚è∞ Cancelling scheduled token refresh'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] ‚è∞ Cancelling scheduled token refresh'
[1A[2KLOG: [36m'[AuthService] üóëÔ∏è Clearing user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üóëÔ∏è Clearing user'
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', null[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üíæ Setting user signal:', null
[1A[2KLOG: [36m'[AuthService] üë§ User cleared'[39m
Chrome 142.0.0.0 (Windows 10): Executed 202 of 373[31m (9 FAILED)[39m (0 secs / 7.122 secs)
LOG: '[AuthService] üë§ User cleared'
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService logout() should logout successfully and clear user data FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 203 of 373[31m (10 FAILED)[39m (0 secs / 7.161 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 203 of 373[31m (10 FAILED)[39m (0 secs / 7.161 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîÑ Initializing auth state...'[39m
Chrome 142.0.0.0 (Windows 10): Executed 203 of 373[31m (10 FAILED)[39m (0 secs / 7.161 secs)
LOG: '[AuthService] üîÑ Initializing auth state...'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 203 of 373[31m (10 FAILED)[39m (0 secs / 7.161 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Session Persistence should restore session from localStorage on initialization FAILED[39m
	Expected false to be true.
	    at <Jasmine>
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:347:41)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	Expected null to equal Object({ id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [ 'USER' ], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false }).
	    at <Jasmine>
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:348:30)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200, token: 'test-token-123'}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200, token: 'test-token-123'}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìä Using backend profileCompleteness:', 75[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üìä Using backend profileCompleteness:', 75
[1A[2KLOG: [36m'[AuthService] üîç Can request verification:', Object{hasEmail: true, hasPersonal: false, notVerified: false, profileCompleteness: 75, result: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üîç Can request verification:', Object{hasEmail: true, hasPersonal: false, notVerified: false, profileCompleteness: 75, result: false}
[1A[2KLOG: [36m'[AuthService] üë§ User state changed:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75, canRequestVerification: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 204 of 373[31m (11 FAILED)[39m (0 secs / 7.19 secs)
LOG: '[AuthService] üë§ User state changed:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75, canRequestVerification: false}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Session Persistence should save token to localStorage on login FAILED[39m
	Expected null to be truthy.
	    at <Jasmine>
	    at Object.next (src/app/services/auth/auth.spec.ts:333:51)
	    at ConsumerObserver.next (node_modules/rxjs/src/internal/Subscriber.ts:155:25)
	    at SafeSubscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:113:22)
	    at SafeSubscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:71:12)
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 205 of 373[31m (12 FAILED)[39m (0 secs / 7.232 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 205 of 373[31m (12 FAILED)[39m (0 secs / 7.232 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìä Using backend profileCompleteness:', 75[39m
Chrome 142.0.0.0 (Windows 10): Executed 206 of 373[31m (12 FAILED)[39m (0 secs / 7.251 secs)
LOG: '[AuthService] üìä Using backend profileCompleteness:', 75
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Profile Completeness should calculate profile completeness from backend value FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 50, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 50}[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 50}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìä Using backend profileCompleteness:', 50[39m
Chrome 142.0.0.0 (Windows 10): Executed 207 of 373[31m (13 FAILED)[39m (0 secs / 7.269 secs)
LOG: '[AuthService] üìä Using backend profileCompleteness:', 50
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Profile Completeness should check if profile is incomplete FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 100, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 100}[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 100}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üìä Using backend profileCompleteness:', 100[39m
Chrome 142.0.0.0 (Windows 10): Executed 208 of 373[31m (14 FAILED)[39m (0 secs / 7.291 secs)
LOG: '[AuthService] üìä Using backend profileCompleteness:', 100
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService Profile Completeness should check if profile is complete FAILED[39m
	Error: Expected no open requests, found 1: GET /api/users/me
	    at _HttpClientTestingBackend.verify (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:147:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:56:14)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:216:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:234:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Register attempt for:', 'existing@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
LOG: '[AuthService] üîê Register attempt for:', 'existing@example.com'
[1A[2KERROR: [36m'[AuthService] ‚ùå HTTP Error:', Object{status: 409, statusText: 'Conflict', error: Object{message: 'Email already exists'}, url: '/api/auth/register'}[39m
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
ERROR: '[AuthService] ‚ùå HTTP Error:', Object{status: 409, statusText: 'Conflict', error: Object{message: 'Email already exists'}, url: '/api/auth/register'}
[1A[2KERROR: [36m'[AuthService] ‚ùå Error normalized:', Object{status: 409, code: undefined, message: 'Email already exists', error: Object{message: 'Email already exists', code: undefined}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
ERROR: '[AuthService] ‚ùå Error normalized:', Object{status: 409, code: undefined, message: 'Email already exists', error: Object{message: 'Email already exists', code: undefined}}
[1A[2KLOG: [36m'[AuthService] üë§ User cleared'[39m
Chrome 142.0.0.0 (Windows 10): Executed 209 of 373[31m (15 FAILED)[39m (0 secs / 7.309 secs)
LOG: '[AuthService] üë§ User cleared'
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 210 of 373[31m (15 FAILED)[39m (0 secs / 7.328 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 210 of 373[31m (15 FAILED)[39m (0 secs / 7.328 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Register attempt for:', 'newuser@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 210 of 373[31m (15 FAILED)[39m (0 secs / 7.328 secs)
LOG: '[AuthService] üîê Register attempt for:', 'newuser@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Register response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 210 of 373[31m (15 FAILED)[39m (0 secs / 7.328 secs)
LOG: '[AuthService] üì• Register response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService register() should register new user successfully FAILED[39m
	Expected false to be true.
	    at <Jasmine>
	    at Object.next (src/app/services/auth/auth.spec.ts:155:45)
	    at ConsumerObserver.next (node_modules/rxjs/src/internal/Subscriber.ts:155:25)
	    at SafeSubscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:113:22)
	    at SafeSubscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:71:12)
	Error: Expected one matching request for criteria "Match URL: /api/users/me", found none.
	    at _HttpClientTestingBackend.expectOne (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:112:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:166:30)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:213:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:231:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 211 of 373[31m (16 FAILED)[39m (0 secs / 7.351 secs)
[1A[2K[31mChrome 142.0.0.0 (Windows 10) AuthService register() should register new user successfully FAILED[39m
	Expected false to be true.
	    at <Jasmine>
	    at Object.next (src/app/services/auth/auth.spec.ts:155:45)
	    at ConsumerObserver.next (node_modules/rxjs/src/internal/Subscriber.ts:155:25)
	    at SafeSubscriber._next (node_modules/rxjs/src/internal/Subscriber.ts:113:22)
	    at SafeSubscriber.next (node_modules/rxjs/src/internal/Subscriber.ts:71:12)
	Error: Expected one matching request for criteria "Match URL: /api/users/me", found none.
	    at _HttpClientTestingBackend.expectOne (http://localhost:9876/darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/packages/common/http/testing/src/backend.ts:112:13)
	    at UserContext.<anonymous> (src/app/services/auth/auth.spec.ts:166:30)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:398:28)
	    at _ProxyZoneSpec.onInvoke (node_modules/zone.js/fesm2015/zone-testing.js:2132:39)
	    at _ZoneDelegate.invoke (node_modules/zone.js/fesm2015/zone.js:397:34)
	    at ZoneImpl.run (node_modules/zone.js/fesm2015/zone.js:113:43)
	    at runInTestZone (node_modules/zone.js/fesm2015/zone-testing.js:213:38)
	    at UserContext.<anonymous> (node_modules/zone.js/fesm2015/zone-testing.js:231:32)
	    at <Jasmine>
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m (0 secs / 7.383 secs)
[1A[2K[31mChrome 142.0.0.0 (Windows 10) ERROR[39m
  An error was thrown in afterAll
  Error: An asynchronous beforeAll or afterAll function called its 'done' callback more than once.
  (in suite: AuthService register())
      at <Jasmine>
      at _ZoneDelegate.invokeTask (node_modules/zone.js/fesm2015/zone.js:431:33)
      at ZoneImpl.runTask (node_modules/zone.js/fesm2015/zone.js:161:47)
      at drainMicroTaskQueue (node_modules/zone.js/fesm2015/zone.js:612:35)
      at invokeTask (node_modules/zone.js/fesm2015/zone.js:519:21)
      at ZoneTask.invoke (node_modules/zone.js/fesm2015/zone.js:504:48)
      at data.args.<computed> (node_modules/zone.js/fesm2015/zone.js:1778:32)
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (0 secs / 7.383 secs)
Chrome 142.0.0.0 (Windows 10) ERROR
  An error was thrown in afterAll
  Error: An asynchronous beforeAll or afterAll function called its 'done' callback more than once.
  (in suite: AuthService register())
      at <Jasmine>
      at _ZoneDelegate.invokeTask (node_modules/zone.js/fesm2015/zone.js:431:33)
      at ZoneImpl.runTask (node_modules/zone.js/fesm2015/zone.js:161:47)
      at drainMicroTaskQueue (node_modules/zone.js/fesm2015/zone.js:612:35)
      at invokeTask (node_modules/zone.js/fesm2015/zone.js:519:21)
      at ZoneTask.invoke (node_modules/zone.js/fesm2015/zone.js:504:48)
      at data.args.<computed> (node_modules/zone.js/fesm2015/zone.js:1778:32)
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
[1A[2KLOG: [36m'[AuthService] üöÄ Initialized with API:', ''[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üöÄ Initialized with API:', ''
[1A[2KLOG: [36m'[AuthService] üîê Login attempt for:', 'test@example.com'[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üîê Login attempt for:', 'test@example.com'
[1A[2KLOG: [36m'[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üì• Login response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] ‚úÖ Login successful, setting user:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] ‚è∞ Scheduling token refresh in 14 minutes'
[1A[2KLOG: [36m'[AuthService] üë§ Fetching current user'[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üë§ Fetching current user'
[1A[2KLOG: [36m'[AuthService] üì• Me response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üì• Me response:', Object{success: true, message: 'Login successful', data: Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: [...], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}, meta: Object{timestamp: '2025-11-12T21:56:58.980Z', statusCode: 200}}
[1A[2KLOG: [36m'[AuthService] ‚úÖ Current user fetched:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] ‚úÖ Current user fetched:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üíæ Setting user signal:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], isActive: true, isVerified: true, emailVerified: true, profileCompleteness: 75, createdAt: '2025-11-12T21:56:58.978Z', updatedAt: '2025-11-12T21:56:58.980Z', hasPersonalInfo: false}
[1A[2KLOG: [36m'[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] ‚úÖ User signal updated:', Object{roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75}
[1A[2KLOG: [36m'[AuthService] üìä Using backend profileCompleteness:', 75[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üìä Using backend profileCompleteness:', 75
[1A[2KLOG: [36m'[AuthService] üîç Can request verification:', Object{hasEmail: true, hasPersonal: false, notVerified: false, profileCompleteness: 75, result: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üîç Can request verification:', Object{hasEmail: true, hasPersonal: false, notVerified: false, profileCompleteness: 75, result: false}
[1A[2KLOG: [36m'[AuthService] üë§ User state changed:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75, canRequestVerification: false}[39m
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m ERROR[39m (9.63 secs / 7.383 secs)
LOG: '[AuthService] üë§ User state changed:', Object{id: 'test-user-id', username: 'testuser', email: 'test@example.com', roles: ['USER'], emailVerified: true, hasPersonalInfo: false, isVerified: true, profileCompleteness: 75, canRequestVerification: false}

=============================== Coverage summary ===============================
Statements   : Unknown% ( 0/0 )
Branches     : Unknown% ( 0/0 )
Functions    : Unknown% ( 0/0 )
Lines        : Unknown% ( 0/0 )
================================================================================
[33m12 11 2025 18:57:12.384:WARN [launcher]: [39mChrome was not killed in 2000 ms, sending SIGKILL.
[33m12 11 2025 18:57:14.389:WARN [launcher]: [39mChrome was not killed by SIGKILL in 2000 ms, continuing.
[1A[2K[31mChrome 142.0.0.0 (Windows 10) ERROR[39m
  Disconnected , because no message in 30000 ms.
Chrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m DISCONNECTED[39m (39.724 secs / 7.383 secs)
Chrome 142.0.0.0 (Windows 10) ERROR
  Disconnected , because no message in 30000 ms.
[1A[2KChrome 142.0.0.0 (Windows 10): Executed 212 of 373[31m (17 FAILED)[39m[31m DISCONNECTED[39m (39.724 secs / 7.383 secs)

=============================== Coverage summary ===============================
Statements   : Unknown% ( 0/0 )
Branches     : Unknown% ( 0/0 )
Functions    : Unknown% ( 0/0 )
Lines        : Unknown% ( 0/0 )
================================================================================
